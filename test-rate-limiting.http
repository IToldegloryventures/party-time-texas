### Test Rate Limiting Implementation
### This file tests the rate limiting functionality

### Test 1: Normal request to analyze endpoint
POST http://localhost:3000/api/analyze/summarize
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="test.pdf"
Content-Type: application/pdf

< ./test-document.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### Test 2: Check rate limit headers in response
# Look for these headers in the response:
# X-RateLimit-Remaining: number
# X-RateLimit-Reset: timestamp

### Test 3: Test rate limit exceeded (make multiple requests quickly)
# After making 10 requests to /api/analyze/summarize within 1 hour,
# you should get a 429 status with:
# {
#   "error": "Rate limit exceeded",
#   "message": "Too many requests. Please try again later.",
#   "retryAfter": number
# }

### Test 4: Test results endpoint rate limiting
GET http://localhost:3000/api/analyze/results?userId=test-user

### Test 5: Check rate limit headers in results response
# Should also include rate limit headers
